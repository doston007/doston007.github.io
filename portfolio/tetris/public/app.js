/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 2);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class Game {\r\n\tconstructor() {\r\n\t\tthis.score = 0;\r\n\t\tthis.lines = 0;\r\n\t\tthis.level = 0;\r\n\t\tthis.playfield = this.createPlayfield();\r\n\t\tthis.activePiece = this.createPiece();\r\n\t\tthis.nextPiece = this.createPiece();\r\n\t}\r\n\r\n\tgetState() {\r\n\t\tconst playfield = this.createPlayfield();\r\n\t\tconst { y: pieceY, x: pieceX, blocks } = this.activePiece;\r\n\r\n\t\tfor (let y = 0; y < this.playfield.length; y++) {\r\n\t\t\tplayfield[y] = [];\r\n\r\n\t\t\tfor (let x = 0; x < this.playfield[y].length; x++) {\r\n\t\t\t\tplayfield[y][x] = this.playfield[y][x];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (let y = 0; y < blocks.length; y++) {\r\n\t\t\tfor (let x = 0; x < blocks[y].length; x++) {\r\n\t\t\t\tif (blocks[y][x]) {\r\n\t\t\t\t\tplayfield[pieceY + y][pieceX + x] = blocks[y][x];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tplayfield\r\n\t\t};\r\n\t}\r\n\r\n\tcreatePlayfield() {\r\n\t\tconst playfield = []\r\n\r\n\t\tfor (let y = 0; y < 20; y++) {\r\n\t\t\tplayfield[y] = [];\r\n\r\n\t\t\tfor (let x = 0; x < 10; x++) {\r\n\t\t\t\tplayfield[y][x] = 0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn playfield;\r\n\t}\r\n\r\n\tcreatePiece() {\r\n\t\tconst index = Math.floor(Math.random() * 7);\r\n\t\tconst type = 'IJLOSTZ'[index];\r\n\t\tconst piece = {};\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase 'I':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0,0],\r\n\t\t\t\t\t[1,1,1,1],\r\n\t\t\t\t\t[0,0,0,0],\r\n\t\t\t\t\t[0,0,0,0]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'J':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0],\r\n\t\t\t\t\t[2,2,2],\r\n\t\t\t\t\t[0,0,2]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'L':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0],\r\n\t\t\t\t\t[3,3,3],\r\n\t\t\t\t\t[3,0,0]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'O':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0,0],\r\n\t\t\t\t\t[0,4,4,0],\r\n\t\t\t\t\t[0,4,4,0],\r\n\t\t\t\t\t[0,0,0,0]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'S':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0],\r\n\t\t\t\t\t[0,5,5],\r\n\t\t\t\t\t[5,5,0]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'T':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0],\r\n\t\t\t\t\t[6,6,6],\r\n\t\t\t\t\t[0,6,0]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Z':\r\n\t\t\t\tpiece.blocks = [\r\n\t\t\t\t\t[0,0,0],\r\n\t\t\t\t\t[7,7,0],\r\n\t\t\t\t\t[0,7,7]\r\n\t\t\t\t];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('Неизвестный тип фигур');\r\n\t\t}\r\n\r\n\t\tpiece.x = Math.floor((10 - piece.blocks[0].length) / 2);\r\n\t\tpiece.y = -1;\r\n\r\n\t\treturn piece\r\n\t}\r\n\r\n\tmovePieceLeft() {\r\n\t\tthis.activePiece.x -= 1;\r\n\r\n\t\tif (this.hasCollision()) {\r\n\t\t\tthis.activePiece.x += 1;\r\n\t\t}\r\n\t}\r\n\r\n\tmovePieceRight() {\r\n\t\tthis.activePiece.x += 1;\r\n\r\n\t\tif (this.hasCollision()) {\r\n\t\t\tthis.activePiece.x -= 1;\r\n\t\t}\r\n\t}\r\n\r\n\tmovePieceDown() {\r\n\t\tthis.activePiece.y += 1;\r\n\r\n\t\tif (this.hasCollision()) {\r\n\t\t\tthis.activePiece.y -= 1;\r\n\t\t\tthis.lockPiece();\r\n\t\t\tthis.updatePieces();\r\n\t\t}\r\n\t}\r\n\r\n\trotatePiece() {\r\n\t\tthis.rotateBlocks();\r\n\r\n\t\tif (this.hasCollision()) {\r\n\t\t\tthis.rotateBlocks(false);\r\n\t\t}\r\n\t}\r\n\r\n\trotateBlocks(clockwise = true) {\r\n\t\tconst blocks = this.activePiece.blocks;\r\n\t\tconst length = blocks.length;\r\n\t\tconst x = Math.floor(length / 2);\r\n\t\tconst y = length - 1;\r\n\r\n\t\tfor (let i = 0; i < x; i++) {\r\n\t\t\tfor (let j = i; j < y - i; j++) {\r\n\t\t\t\tconst temp = blocks[i][j];\r\n\r\n\t\t\t\tif (clockwise) {\r\n\t\t\t\t\tblocks[i][j] = blocks[y - j][i];\r\n\t\t\t\t\tblocks[y - j][i] = blocks[y - i][y - j];\r\n\t\t\t\t\tblocks[y - i][y - j] = blocks[j][y - i];\r\n\t\t\t\t\tblocks[j][y - i] = temp;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tblocks[i][j] = blocks[j][y - i];\r\n\t\t\t\t\tblocks[j][y - i] = blocks[y - i][y - j];\r\n\t\t\t\t\tblocks[y - i][y - j] = blocks[y - j][i];\r\n\t\t\t\t\tblocks[y - j][i] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thasCollision() {\r\n\t\tconst { y: pieceY, x: pieceX, blocks } = this.activePiece;\r\n\r\n\t\tfor (let y = 0; y < blocks.length; y++) {\r\n\t\t\tfor (let x = 0; x < blocks[y].length; x++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\tblocks[y][x] &&\r\n\t\t\t\t\t((this.playfield[pieceY + y] === undefined || this.playfield[pieceY + y][pieceX + x] === undefined) ||\r\n\t\t\t\t\tthis.playfield[pieceY + y][pieceX + x])\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlockPiece() {\r\n\t\tconst { y: pieceY, x: pieceX, blocks } = this.activePiece;\r\n\r\n\t\tfor (let y = 0; y < blocks.length; y++) {\r\n\t\t\tfor (let x = 0; x < blocks[y].length; x++) {\r\n\t\t\t\tif (blocks[y][x]) {\r\n\t\t\t\t\tthis.playfield[pieceY + y][pieceX + x] = blocks[y][x];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tupdatePieces() {\r\n\t\tthis.activePiece = this.nextPiece;\r\n\t\tthis.nextPiece = this.createPiece();\r\n\t}\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = Game;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9nYW1lLmpzP2M3ZWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnNjb3JlID0gMDtcclxuXHRcdHRoaXMubGluZXMgPSAwO1xyXG5cdFx0dGhpcy5sZXZlbCA9IDA7XHJcblx0XHR0aGlzLnBsYXlmaWVsZCA9IHRoaXMuY3JlYXRlUGxheWZpZWxkKCk7XHJcblx0XHR0aGlzLmFjdGl2ZVBpZWNlID0gdGhpcy5jcmVhdGVQaWVjZSgpO1xyXG5cdFx0dGhpcy5uZXh0UGllY2UgPSB0aGlzLmNyZWF0ZVBpZWNlKCk7XHJcblx0fVxyXG5cclxuXHRnZXRTdGF0ZSgpIHtcclxuXHRcdGNvbnN0IHBsYXlmaWVsZCA9IHRoaXMuY3JlYXRlUGxheWZpZWxkKCk7XHJcblx0XHRjb25zdCB7IHk6IHBpZWNlWSwgeDogcGllY2VYLCBibG9ja3MgfSA9IHRoaXMuYWN0aXZlUGllY2U7XHJcblxyXG5cdFx0Zm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnBsYXlmaWVsZC5sZW5ndGg7IHkrKykge1xyXG5cdFx0XHRwbGF5ZmllbGRbeV0gPSBbXTtcclxuXHJcblx0XHRcdGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5wbGF5ZmllbGRbeV0ubGVuZ3RoOyB4KyspIHtcclxuXHRcdFx0XHRwbGF5ZmllbGRbeV1beF0gPSB0aGlzLnBsYXlmaWVsZFt5XVt4XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAobGV0IHkgPSAwOyB5IDwgYmxvY2tzLmxlbmd0aDsgeSsrKSB7XHJcblx0XHRcdGZvciAobGV0IHggPSAwOyB4IDwgYmxvY2tzW3ldLmxlbmd0aDsgeCsrKSB7XHJcblx0XHRcdFx0aWYgKGJsb2Nrc1t5XVt4XSkge1xyXG5cdFx0XHRcdFx0cGxheWZpZWxkW3BpZWNlWSArIHldW3BpZWNlWCArIHhdID0gYmxvY2tzW3ldW3hdO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHBsYXlmaWVsZFxyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdGNyZWF0ZVBsYXlmaWVsZCgpIHtcclxuXHRcdGNvbnN0IHBsYXlmaWVsZCA9IFtdXHJcblxyXG5cdFx0Zm9yIChsZXQgeSA9IDA7IHkgPCAyMDsgeSsrKSB7XHJcblx0XHRcdHBsYXlmaWVsZFt5XSA9IFtdO1xyXG5cclxuXHRcdFx0Zm9yIChsZXQgeCA9IDA7IHggPCAxMDsgeCsrKSB7XHJcblx0XHRcdFx0cGxheWZpZWxkW3ldW3hdID0gMDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBwbGF5ZmllbGQ7XHJcblx0fVxyXG5cclxuXHRjcmVhdGVQaWVjZSgpIHtcclxuXHRcdGNvbnN0IGluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNyk7XHJcblx0XHRjb25zdCB0eXBlID0gJ0lKTE9TVFonW2luZGV4XTtcclxuXHRcdGNvbnN0IHBpZWNlID0ge307XHJcblxyXG5cdFx0c3dpdGNoICh0eXBlKSB7XHJcblx0XHRcdGNhc2UgJ0knOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMCwwXSxcclxuXHRcdFx0XHRcdFsxLDEsMSwxXSxcclxuXHRcdFx0XHRcdFswLDAsMCwwXSxcclxuXHRcdFx0XHRcdFswLDAsMCwwXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ0onOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMF0sXHJcblx0XHRcdFx0XHRbMiwyLDJdLFxyXG5cdFx0XHRcdFx0WzAsMCwyXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ0wnOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMF0sXHJcblx0XHRcdFx0XHRbMywzLDNdLFxyXG5cdFx0XHRcdFx0WzMsMCwwXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ08nOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMCwwXSxcclxuXHRcdFx0XHRcdFswLDQsNCwwXSxcclxuXHRcdFx0XHRcdFswLDQsNCwwXSxcclxuXHRcdFx0XHRcdFswLDAsMCwwXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1MnOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMF0sXHJcblx0XHRcdFx0XHRbMCw1LDVdLFxyXG5cdFx0XHRcdFx0WzUsNSwwXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1QnOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMF0sXHJcblx0XHRcdFx0XHRbNiw2LDZdLFxyXG5cdFx0XHRcdFx0WzAsNiwwXVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1onOlxyXG5cdFx0XHRcdHBpZWNlLmJsb2NrcyA9IFtcclxuXHRcdFx0XHRcdFswLDAsMF0sXHJcblx0XHRcdFx0XHRbNyw3LDBdLFxyXG5cdFx0XHRcdFx0WzAsNyw3XVxyXG5cdFx0XHRcdF07XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGRlZmF1bHQ6XHJcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCfQndC10LjQt9Cy0LXRgdGC0L3Ri9C5INGC0LjQvyDRhNC40LPRg9GAJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cGllY2UueCA9IE1hdGguZmxvb3IoKDEwIC0gcGllY2UuYmxvY2tzWzBdLmxlbmd0aCkgLyAyKTtcclxuXHRcdHBpZWNlLnkgPSAtMTtcclxuXHJcblx0XHRyZXR1cm4gcGllY2VcclxuXHR9XHJcblxyXG5cdG1vdmVQaWVjZUxlZnQoKSB7XHJcblx0XHR0aGlzLmFjdGl2ZVBpZWNlLnggLT0gMTtcclxuXHJcblx0XHRpZiAodGhpcy5oYXNDb2xsaXNpb24oKSkge1xyXG5cdFx0XHR0aGlzLmFjdGl2ZVBpZWNlLnggKz0gMTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG1vdmVQaWVjZVJpZ2h0KCkge1xyXG5cdFx0dGhpcy5hY3RpdmVQaWVjZS54ICs9IDE7XHJcblxyXG5cdFx0aWYgKHRoaXMuaGFzQ29sbGlzaW9uKCkpIHtcclxuXHRcdFx0dGhpcy5hY3RpdmVQaWVjZS54IC09IDE7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRtb3ZlUGllY2VEb3duKCkge1xyXG5cdFx0dGhpcy5hY3RpdmVQaWVjZS55ICs9IDE7XHJcblxyXG5cdFx0aWYgKHRoaXMuaGFzQ29sbGlzaW9uKCkpIHtcclxuXHRcdFx0dGhpcy5hY3RpdmVQaWVjZS55IC09IDE7XHJcblx0XHRcdHRoaXMubG9ja1BpZWNlKCk7XHJcblx0XHRcdHRoaXMudXBkYXRlUGllY2VzKCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyb3RhdGVQaWVjZSgpIHtcclxuXHRcdHRoaXMucm90YXRlQmxvY2tzKCk7XHJcblxyXG5cdFx0aWYgKHRoaXMuaGFzQ29sbGlzaW9uKCkpIHtcclxuXHRcdFx0dGhpcy5yb3RhdGVCbG9ja3MoZmFsc2UpO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cm90YXRlQmxvY2tzKGNsb2Nrd2lzZSA9IHRydWUpIHtcclxuXHRcdGNvbnN0IGJsb2NrcyA9IHRoaXMuYWN0aXZlUGllY2UuYmxvY2tzO1xyXG5cdFx0Y29uc3QgbGVuZ3RoID0gYmxvY2tzLmxlbmd0aDtcclxuXHRcdGNvbnN0IHggPSBNYXRoLmZsb29yKGxlbmd0aCAvIDIpO1xyXG5cdFx0Y29uc3QgeSA9IGxlbmd0aCAtIDE7XHJcblxyXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB4OyBpKyspIHtcclxuXHRcdFx0Zm9yIChsZXQgaiA9IGk7IGogPCB5IC0gaTsgaisrKSB7XHJcblx0XHRcdFx0Y29uc3QgdGVtcCA9IGJsb2Nrc1tpXVtqXTtcclxuXHJcblx0XHRcdFx0aWYgKGNsb2Nrd2lzZSkge1xyXG5cdFx0XHRcdFx0YmxvY2tzW2ldW2pdID0gYmxvY2tzW3kgLSBqXVtpXTtcclxuXHRcdFx0XHRcdGJsb2Nrc1t5IC0gal1baV0gPSBibG9ja3NbeSAtIGldW3kgLSBqXTtcclxuXHRcdFx0XHRcdGJsb2Nrc1t5IC0gaV1beSAtIGpdID0gYmxvY2tzW2pdW3kgLSBpXTtcclxuXHRcdFx0XHRcdGJsb2Nrc1tqXVt5IC0gaV0gPSB0ZW1wO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRibG9ja3NbaV1bal0gPSBibG9ja3Nbal1beSAtIGldO1xyXG5cdFx0XHRcdFx0YmxvY2tzW2pdW3kgLSBpXSA9IGJsb2Nrc1t5IC0gaV1beSAtIGpdO1xyXG5cdFx0XHRcdFx0YmxvY2tzW3kgLSBpXVt5IC0gal0gPSBibG9ja3NbeSAtIGpdW2ldO1xyXG5cdFx0XHRcdFx0YmxvY2tzW3kgLSBqXVtpXSA9IHRlbXA7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRoYXNDb2xsaXNpb24oKSB7XHJcblx0XHRjb25zdCB7IHk6IHBpZWNlWSwgeDogcGllY2VYLCBibG9ja3MgfSA9IHRoaXMuYWN0aXZlUGllY2U7XHJcblxyXG5cdFx0Zm9yIChsZXQgeSA9IDA7IHkgPCBibG9ja3MubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBibG9ja3NbeV0ubGVuZ3RoOyB4KyspIHtcclxuXHRcdFx0XHRpZiAoXHJcblx0XHRcdFx0XHRibG9ja3NbeV1beF0gJiZcclxuXHRcdFx0XHRcdCgodGhpcy5wbGF5ZmllbGRbcGllY2VZICsgeV0gPT09IHVuZGVmaW5lZCB8fCB0aGlzLnBsYXlmaWVsZFtwaWVjZVkgKyB5XVtwaWVjZVggKyB4XSA9PT0gdW5kZWZpbmVkKSB8fFxyXG5cdFx0XHRcdFx0dGhpcy5wbGF5ZmllbGRbcGllY2VZICsgeV1bcGllY2VYICsgeF0pXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRsb2NrUGllY2UoKSB7XHJcblx0XHRjb25zdCB7IHk6IHBpZWNlWSwgeDogcGllY2VYLCBibG9ja3MgfSA9IHRoaXMuYWN0aXZlUGllY2U7XHJcblxyXG5cdFx0Zm9yIChsZXQgeSA9IDA7IHkgPCBibG9ja3MubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0Zm9yIChsZXQgeCA9IDA7IHggPCBibG9ja3NbeV0ubGVuZ3RoOyB4KyspIHtcclxuXHRcdFx0XHRpZiAoYmxvY2tzW3ldW3hdKSB7XHJcblx0XHRcdFx0XHR0aGlzLnBsYXlmaWVsZFtwaWVjZVkgKyB5XVtwaWVjZVggKyB4XSA9IGJsb2Nrc1t5XVt4XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHVwZGF0ZVBpZWNlcygpIHtcclxuXHRcdHRoaXMuYWN0aXZlUGllY2UgPSB0aGlzLm5leHRQaWVjZTtcclxuXHRcdHRoaXMubmV4dFBpZWNlID0gdGhpcy5jcmVhdGVQaWVjZSgpO1xyXG5cdH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2dhbWUuanNcbi8vIG1vZHVsZSBpZCA9IDBcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("class View {\r\n\tconstructor(element, width, height, rows, columns) {\r\n\t\tthis.colors = {\r\n\t\t\t'1': 'cyan',\r\n\t\t\t'2': 'blue',\r\n\t\t\t'3': 'orange',\r\n\t\t\t'4': 'yellow',\r\n\t\t\t'5': 'green',\r\n\t\t\t'6': 'purple',\r\n\t\t\t'7': 'red'\r\n\t\t};\r\n\r\n\t\tthis.element = element;\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\r\n\t\tthis.canvas = document.createElement('canvas');\r\n\t\tthis.canvas.width = this.width;\r\n\t\tthis.canvas.height = this.height;\r\n\t\tthis.context = this.canvas.getContext('2d');\r\n\r\n\t\tthis.blockWidth = this.width / columns;\r\n\t\tthis.blockHeight = this.height / rows;\r\n\r\n\t\tthis.element.appendChild(this.canvas);\r\n\t}\r\n\r\n\trender({ playfield }) {\r\n\t\tthis.clearScreen();\r\n\t\tthis.renderPlayfield(playfield);\r\n\t}\r\n\r\n\tclearScreen() {\r\n\t\tthis.context.clearRect(0, 0, this.width, this.height);\r\n\t}\r\n\r\n\trenderPlayfield(playfield) {\r\n\t\tfor (let y = 0; y < playfield.length; y++) {\r\n\t\t\tconst line = playfield[y];\r\n\r\n\t\t\tfor (let x = 0; x < line.length; x++) {\r\n\t\t\t\tconst block = line[x];\r\n\r\n\t\t\t\tif (block) {\r\n\t\t\t\t\tthis.renderBlock(x * this.blockWidth, y * this.blockHeight, this.blockWidth, this.blockHeight, this.colors[block]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trenderBlock(x, y, width, height, color) {\r\n\t\tthis.context.fillStyle = color;\r\n\t\tthis.context.strokeStyle = 'black';\r\n\t\tthis.context.lineWidth = 2;\r\n\r\n\t\tthis.context.fillRect(x, y, width, height);\r\n\t\tthis.context.strokeRect(x, y, width, height);\r\n\t}\r\n}\n/* harmony export (immutable) */ __webpack_exports__[\"a\"] = View;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy92aWV3LmpzPzMyMGEiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyB7XHJcblx0Y29uc3RydWN0b3IoZWxlbWVudCwgd2lkdGgsIGhlaWdodCwgcm93cywgY29sdW1ucykge1xyXG5cdFx0dGhpcy5jb2xvcnMgPSB7XHJcblx0XHRcdCcxJzogJ2N5YW4nLFxyXG5cdFx0XHQnMic6ICdibHVlJyxcclxuXHRcdFx0JzMnOiAnb3JhbmdlJyxcclxuXHRcdFx0JzQnOiAneWVsbG93JyxcclxuXHRcdFx0JzUnOiAnZ3JlZW4nLFxyXG5cdFx0XHQnNic6ICdwdXJwbGUnLFxyXG5cdFx0XHQnNyc6ICdyZWQnXHJcblx0XHR9O1xyXG5cclxuXHRcdHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XHJcblx0XHR0aGlzLndpZHRoID0gd2lkdGg7XHJcblx0XHR0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcblx0XHR0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdFx0dGhpcy5jYW52YXMud2lkdGggPSB0aGlzLndpZHRoO1xyXG5cdFx0dGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XHJcblx0XHR0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuXHRcdHRoaXMuYmxvY2tXaWR0aCA9IHRoaXMud2lkdGggLyBjb2x1bW5zO1xyXG5cdFx0dGhpcy5ibG9ja0hlaWdodCA9IHRoaXMuaGVpZ2h0IC8gcm93cztcclxuXHJcblx0XHR0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKHsgcGxheWZpZWxkIH0pIHtcclxuXHRcdHRoaXMuY2xlYXJTY3JlZW4oKTtcclxuXHRcdHRoaXMucmVuZGVyUGxheWZpZWxkKHBsYXlmaWVsZCk7XHJcblx0fVxyXG5cclxuXHRjbGVhclNjcmVlbigpIHtcclxuXHRcdHRoaXMuY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyUGxheWZpZWxkKHBsYXlmaWVsZCkge1xyXG5cdFx0Zm9yIChsZXQgeSA9IDA7IHkgPCBwbGF5ZmllbGQubGVuZ3RoOyB5KyspIHtcclxuXHRcdFx0Y29uc3QgbGluZSA9IHBsYXlmaWVsZFt5XTtcclxuXHJcblx0XHRcdGZvciAobGV0IHggPSAwOyB4IDwgbGluZS5sZW5ndGg7IHgrKykge1xyXG5cdFx0XHRcdGNvbnN0IGJsb2NrID0gbGluZVt4XTtcclxuXHJcblx0XHRcdFx0aWYgKGJsb2NrKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJlbmRlckJsb2NrKHggKiB0aGlzLmJsb2NrV2lkdGgsIHkgKiB0aGlzLmJsb2NrSGVpZ2h0LCB0aGlzLmJsb2NrV2lkdGgsIHRoaXMuYmxvY2tIZWlnaHQsIHRoaXMuY29sb3JzW2Jsb2NrXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZW5kZXJCbG9jayh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBjb2xvcikge1xyXG5cdFx0dGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG5cdFx0dGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gJ2JsYWNrJztcclxuXHRcdHRoaXMuY29udGV4dC5saW5lV2lkdGggPSAyO1xyXG5cclxuXHRcdHRoaXMuY29udGV4dC5maWxsUmVjdCh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuXHRcdHRoaXMuY29udGV4dC5zdHJva2VSZWN0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG5cdH1cclxufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL3ZpZXcuanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("Object.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__game__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__view__ = __webpack_require__(1);\n\r\n\r\n\r\nconst root = document.querySelector('#root');\r\n\r\nconst game = new __WEBPACK_IMPORTED_MODULE_0__game__[\"a\" /* default */]();\r\nconst view = new __WEBPACK_IMPORTED_MODULE_1__view__[\"a\" /* default */](root, 320, 640, 20, 10);\r\n\r\ndocument.addEventListener('keydown', event => {\r\n\tswitch (event.keyCode) {\r\n\t\tcase 37: // LEFT ARROW\r\n\t\t\tgame.movePieceLeft();\r\n\t\t\tview.render(game.getState());\r\n\t\t\tbreak;\r\n\t\tcase 38: // UP ARROW\r\n\t\t\tgame.rotatePiece();\r\n\t\t\tview.render(game.getState());\r\n\t\t\tbreak;\r\n\t\tcase 39: // RIGHT ARROW\r\n\t\t\tgame.movePieceRight();\r\n\t\t\tview.render(game.getState());\r\n\t\t\tbreak;\r\n\t\tcase 40: // DOWN ARROW\r\n\t\t\tgame.movePieceDown();\r\n\t\t\tview.render(game.getState());\r\n\t\t\tbreak;\r\n\t}\r\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9pbmRleC5qcz85NTUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBHYW1lIGZyb20gJy4vZ2FtZSc7XHJcbmltcG9ydCBWaWV3IGZyb20gJy4vdmlldyc7XHJcblxyXG5jb25zdCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jvb3QnKTtcclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xyXG5jb25zdCB2aWV3ID0gbmV3IFZpZXcocm9vdCwgMzIwLCA2NDAsIDIwLCAxMCk7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xyXG5cdHN3aXRjaCAoZXZlbnQua2V5Q29kZSkge1xyXG5cdFx0Y2FzZSAzNzogLy8gTEVGVCBBUlJPV1xyXG5cdFx0XHRnYW1lLm1vdmVQaWVjZUxlZnQoKTtcclxuXHRcdFx0dmlldy5yZW5kZXIoZ2FtZS5nZXRTdGF0ZSgpKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlIDM4OiAvLyBVUCBBUlJPV1xyXG5cdFx0XHRnYW1lLnJvdGF0ZVBpZWNlKCk7XHJcblx0XHRcdHZpZXcucmVuZGVyKGdhbWUuZ2V0U3RhdGUoKSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAzOTogLy8gUklHSFQgQVJST1dcclxuXHRcdFx0Z2FtZS5tb3ZlUGllY2VSaWdodCgpO1xyXG5cdFx0XHR2aWV3LnJlbmRlcihnYW1lLmdldFN0YXRlKCkpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgNDA6IC8vIERPV04gQVJST1dcclxuXHRcdFx0Z2FtZS5tb3ZlUGllY2VEb3duKCk7XHJcblx0XHRcdHZpZXcucmVuZGVyKGdhbWUuZ2V0U3RhdGUoKSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxufSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ })
/******/ ]);